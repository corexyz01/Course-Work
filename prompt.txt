Тема приложения

Создать объектно‑ориентированную систему табельного учета и контроля рабочего времени сотрудников в виде корпоративного веб‑приложения.
Технологии и архитектура

    Стек: Next.js (App Router) + TypeScript + Tailwind CSS.

    Хранилище данных: JSON‑файлы в проекте, работающие как простая база данных (репозиторий).

    Стиль кода: строго объектно‑ориентированный подход.

        Вся бизнес‑логика, работа с данными, вызовы API должны быть инкапсулированы в классах (модели, сервисы, репозитории, хелперы).

        UI‑компоненты могут быть функциональными React‑компонентами, но не должны содержать сложную бизнес‑логику.

Стиль интерфейса (по примеру wireframe на картинке)

Сделать интерфейс как минималистичный корпоративный дашборд:

    Цвета: светлая тема, много пустого пространства, 1–2 акцентных оттенка (например, темный серый + один основной акцентный цвет для кнопок / выделений).

    Типографика: крупные, читаемые заголовки, простой шрифт без засечек, четкая иерархия.

    Макеты:

        Основной layout – sidebar слева с иконками/секциями (Dashboard, Employees, Timesheets, Requests, Reports, Settings).

        Верхняя панель с приветствием, именем пользователя, аватаром/инициалами, индикаторами уведомлений.

        Контентные области в виде карточек и таблиц, как в мед‑дашборде на примере:

            карточки с метриками (отработано часов, опоздания, активные запросы и т.п.),

            таблицы в виде простых рядов с четкой сеткой и неяркими разделителями,

            графики можно заменить на упрощенные placeholder‑карточки с суммарными цифрами.

    Общий характер: строгий, деловой, без иллюстраций и лишней декорации, только функциональные элементы.

    Поддержка адаптивности: корректное отображение на ноутбуках и больших мониторах (mobile‑first не обязателен, но базовый responsive нужен).

Роли пользователей

Нужно реализовать минимум две роли:

    Администратор / HR

        Управление сотрудниками и их учетными записями.

        Просмотр и корректировка табелей.

        Обработка запросов сотрудников (правки времени, отпуск, больничный и т.п.).

        Просмотр агрегированных отчетов.

    Сотрудник

        Вход в систему.

        Старт/стоп рабочего времени (тайм‑трекер).

        Просмотр личного табеля и статуса запросов.

        Создание запросов на изменение данных учета (коррекция часов, отпуск и т.п.).

Аутентификация и безопасность

    Регистрация/создание аккаунтов:

        Каждый пользователь имеет email (логин), пароль, роль (admin/employee), базовые данные профиля.

        Администратор может создавать/редактировать учетные записи сотрудников через интерфейс.

    Логин:

        Вход по email + пароль.

        На клиенте – формы на Next.js, обработка через API‑роуты.

    Пароли:

        Обязательное хеширование паролей (например, bcrypt или аналогичный пакет).

        В JSON‑хранилище хранить только хеш.

    Сессия:

        Простая JWT‑ или session‑реализация (на выбор), но:

            должна быть выделена AuthService с методами login, register, logout, verifyToken / getCurrentUser.

            Middleware/guard для защиты приватных страниц и API‑роутов.

Функциональные модули и сущности

Ниже — ключевые доменные сущности, для каждой нужны TypeScript‑модели (классы) и сервисы:
1. Пользователь (User)

    Поля: id, email, passwordHash, role, fullName, position, department, status (active/inactive), createdAt, updatedAt.

    Логика:

        Создание/редактирование пользователей (только админ).

        Смена пароля (пользователь / админ).

        Валидация email/уникальности.

2. Сотрудник и рабочий график (Employee, WorkSchedule)

    Дополнительные поля сотрудника: стандартное количество рабочих часов в день, тип занятости (полный/частичный день).

    WorkSchedule: базовый график по дням недели (например, Пн–Пт 09:00–18:00).

    Сервис для:

        вычисления плановой нормы часов за период;

        проверки опозданий/раннего ухода.

3. Тайм‑трекер и табель (TimeEntry / Timesheet)

    TimeEntry:

        Поля: id, employeeId, date, startTime, endTime, duration, type (обычный рабочий день, переработка, выходной и т.п.), source (ручной ввод, авто через таймер), status (draft, approved, pendingChange).

    Функциональность:

        Кнопки для сотрудника: Start work, Stop work, Pause/Resume (опционально).

        Автоматический расчет duration при остановке таймера.

        Возможность ручного ввода/правки только через запрос (см. Requests).

        Подсчет:

            суммарных часов за день/неделю/месяц;

            переработок и недоработок относительно графика.

    UI:

        Таблица отслеживания времени с фильтрами по датам и статусам.

        Для админа — вид всех сотрудников; для сотрудника — только свои записи.

4. Запросы на изменения (ChangeRequest)

    Типы запросов:

        корректировка времени (изменить начало/конец, добавить пропущенный день);

        запрос на отпуск;

        запрос на больничный/отгул/командировку.

    Поля: id, employeeId, type, payload (детали изменения), createdAt, status (pending, approved, rejected), reviewerId, reviewComment.

    Логика:

        Сотрудник создает запрос, указывает дату/время/описание.

        Админ видит список открытых запросов, может одобрить/отклонить.

        При одобрении автоматически вносится правка в соответствующие TimeEntry / Timesheet.

        История запросов в профиле сотрудника.

5. Отчеты и статистика (Reports)

    Для администратора:

        Сводка по сотрудникам:

            отработано часов за период;

            переработка/недоработка;

            количество опозданий;

            количество дней без отметки.

        Экран в виде:

            таблицы сотрудников с ключевыми показателями;

            карточек с общими метриками (общее количество часов, средняя загрузка и т.п.).

    Для сотрудника:

        Личный дашборд:

            число отработанных часов за текущую неделю/месяц;

            опоздания и переработки;

            статус активных запросов.

Структура проекта и классы

Нужно явно разделить слои:

    Модели (domain models) — классы, которые описывают данные и простые методы.

    Репозитории (repositories) — классы, которые работают с JSON‑файлами: чтение/запись/поиск.

    Сервисы (services) — бизнес‑логика поверх репозиториев:

        AuthService, UserService, TimeTrackingService, RequestService, ReportService и т.п.

    API‑роуты Next.js — тонкий слой, который:

        принимает HTTP‑запрос;

        вызывает соответствующий сервис;

        возвращает результат/ошибку.

    UI‑слой — страницы и компоненты, которые обращаются к API и отображают данные.

Требования к UX и сценариям

Определить и реализовать базовые пользовательские сценарии:

    Новый пользователь‑админ входит, добавляет сотрудников и задает им роли/графики.

    Сотрудник логинится, запускает и останавливает рабочий таймер в течение дня.

    В конце недели сотрудник проверяет свой табель, видит ошибку, создает запрос на корректировку.

    Админ рассматривает запрос, одобряет, табель автоматически обновляется.

    Админ открывает страницу отчетов и смотрит суммарные показатели за месяц.

Нефункциональные требования

    Четкая типизация TypeScript, отсутствие any там, где можно этого избежать.

    Строгая структура проекта (папки models, services, repositories, api, components).

    Код должен быть готов к расширению (легко добавить новые типы запросов, статусы, отчеты).

    Интерфейс должен выглядеть как реальное внутреннее приложение компании: ничего «игрового», только строгий, чистый дизайн.

Если нужно, можно дополнительно попросить ИИ сгенерировать:

    готовую структуру файлов и директорий;

    интерфейсы TypeScript для всех доменных сущностей;

    примеры JSON‑файлов c начальными данными (несколько сотрудников, примеры записей рабочего времени и запросов).

ОДНО ИЗ ГЛАВНЫХ ПРАВИЛ - НЕ СОЗДАВАЙ ПРОМЕЖУТОЧНЫЕ ФАЙЛЫ С ОТЧЕТАМИ И ТАКЖЕ НЕ ДЕЛАЙ ПОМЕТКИ С КОММЕНТАРИЯМИ В КОДЕ